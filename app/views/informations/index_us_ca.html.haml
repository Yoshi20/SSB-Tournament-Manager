- set_meta_tags description: meta_tag_description('Information')

.row
  .col
    %h1.page__title= t('information.us_ca.title')

%ul#information-tabs.nav.nav-pills.nav-fill{role: 'tablist'}
  %li.nav-item
    %a#general-tab.nav-link.active{'data-toggle'=>'tab', href: '#general', role: 'tab', 'aria-controls'=>'all'}
      = t('information.us_ca.general.title')
  %li.nav-item
    %a#regions-tab.nav-link{'data-toggle'=>'tab', href: '#regions', role: 'tab', 'aria-controls'=>'all'}
      = "Regions"
  %li.nav-item
    %a#calendar-tab.nav-link{'data-toggle'=>'tab', href: '#calendar', role: 'tab', 'aria-controls'=>'all'}
      = t('information.us_ca.calendar.title')
  %li.nav-item
    %a#power-ranking-tab.nav-link{'data-toggle'=>'tab', href: '#power-ranking', role: 'tab', 'aria-controls'=>'all'}
      = t('information.us_ca.power_ranking.title')
  %li.nav-item
    %a#tournament-manager-tab.nav-link{'data-toggle'=>'tab', href: '#tournament-manager', role: 'tab', 'aria-controls'=>'all'}
      = t('information.us_ca.tournament_manager.title')
  %li.nav-item
    %a#results-tab.nav-link{'data-toggle'=>'tab', href: '#results', role: 'tab', 'aria-controls'=>'all'}
      = t('information.us_ca.results.title')
  %li.nav-item
    %a#contact-tab.nav-link{'data-toggle'=>'tab', href: '#contact', role: 'tab', 'aria-controls'=>'all'}
      = t('navigation.footer.contact')
  %li.nav-item
    %a#partners-tab.nav-link{'data-toggle'=>'tab', href: '#partners', role: 'tab', 'aria-controls'=>'all'}
      = t('information.us_ca.partners.title')

.tab-content#information-tabs-content
  -# general
  .tab-pane.fade.show.active#general{role: 'tabpanel', 'aria-labelledby'=>'general-tab'}
    .row
      .col
        %h2 Ca-Smash.com
        %p
          = t('information.us_ca.general.calismash', swisssmash_link: link_to('www.swisssmash.ch', 'https://www.swisssmash.ch/', target: '_blank'), Yomi: link_to('Yomi', '/players/1')).html_safe
  -# regions
  .tab-pane.fade.show#regions{role: 'tabpanel', 'aria-labelledby'=>'regions-tab'}
    .row
      .col
        %h2= "Regions"
    .row
      .col.text-center
        = link_to asset_url('us_ca_map_lines.jpg') do
          = image_tag 'us_ca_map_lines.jpg', height: '400px', style: 'max-width: 100%;', alt: 'Cali map lines image'
    .row.mt-3
      .col
        %strong North
        %ul{style: 'padding-left: 0.5rem; list-style: none;'}
          %li Alameda
          %li Alpine
          %li Amador
          %li Butte
          %li Calavera
          %li Colusa
          %li Contra Costa
          %li Del Norte
          %li El Dorado
          %li Glenn
          %li Humboldt
          %li Lake
          %li Lassen
          %li Marin
          %li Mendocino
          %li Modoc
          %li Mono
          %li Napa
          %li Nevada
          %li Placer
          %li Plumas
          %li Sacramento
          %li San Francisco
          %li San Joaquin
          %li San Mateo
          %li Santa Clara
          %li Santa Cruz
          %li Shasta
          %li Sierra
          %li Siskiyou
          %li Solano
          %li Sonoma
          %li Stanislaus
          %li Sutter
          %li Tehama
          %li Trinity
          %li Tuolumne
          %li Yolo
          %li Yuba
      .col
        %strong Central
        %ul{style: 'padding-left: 0.5rem; list-style: none;'}
          %li Fresno
          %li Inyo
          %li Kings
          %li Madera
          %li Mariposa
          %li Merced
          %li Monterey
          %li San Benito
          %li Tulare
      .col
        %strong South
        %ul{style: 'padding-left: 0.5rem; list-style: none;'}
          %li Imperial
          %li Kern
          %li Los Angeles
          %li Orange
          %li Riverside
          %li San Bernardino
          %li San Diego
          %li San Luis Obispo
          %li Santa Barbara
          %li Ventura

  -# calendar
  .tab-pane.fade.show#calendar{role: 'tabpanel', 'aria-labelledby'=>'calendar-tab'}
    .row
      .col
        %h2= t('information.us_ca.calendar.title')
        %p
          = t('information.us_ca.calendar.tournaments_body', link: link_to('web crawler', 'https://wikipedia.org/wiki/Web_crawler', target: '_blank')).html_safe
        %ul
          %li= link_to 'start.gg', 'https://start.gg/api/-/gg_api./public/tournaments/schedule?filter={%22upcoming%22%3Atrue%2C%22videogameIds%22%3A%221386%22%2C%22countryCode%22%3A%22IS%22}&page=1&per_page=100&returnMeta=true', target: '_blank'
          %li= link_to 'braacket.com', 'https://braacket.com/tournament/search?rows=100&country=is&game=ssbu&status=1', target: '_blank'
    .row
      .col
        %p
          = t('information.us_ca.calendar.calendar_body')
        %ul
          %span.circle{style: "background: #61bf9b;"}
          %span= t('information.us_ca.calendar.calendar_weekly')
          %br
          %span.circle{style: "background: orchid;"}
          %span= t('information.us_ca.calendar.calendar_internal')
          %br
          %span.circle{style: "background: cornflowerblue;"}
          %span= t('information.us_ca.calendar.calendar_external')
  -# power-ranking
  .tab-pane.fade.show#power-ranking{role: 'tabpanel', 'aria-labelledby'=>'power-ranking-tab'}
    .row
      .col
        %h2= t('information.us_ca.power_ranking.power_ranking')
        %p= t('information.us_ca.power_ranking.power_ranking_body')
        %ul
          %li= t('information.us_ca.power_ranking.power_ranking_li_1')
          %li= t('information.us_ca.power_ranking.power_ranking_li_2')
          %li= t('information.us_ca.power_ranking.power_ranking_li_3')
          %li= t('information.us_ca.power_ranking.power_ranking_li_4')
          %li= t('information.us_ca.power_ranking.power_ranking_li_5')
          %li= t('information.us_ca.power_ranking.power_ranking_li_6')

  -# tournament-manager
  .tab-pane.fade.show#tournament-manager{role: 'tabpanel', 'aria-labelledby'=>'tournament-manager-tab'}
    .row.mt-3
      .col
        %h2= t('information.us_ca.tournament_manager.tournament_organiser')
        %p= t('information.us_ca.tournament_manager.tournament_organiser_body').html_safe
        -# %p= t('information.us_ca.tournament_manager.tournament_organiser_body', link: mail_to('admin@italysmash.fr', t('information.us_ca.tournament_manager.tournament_organiser_mail'), subject: t('information.us_ca.tournament_manager.tournament_organiser_mail_subject'), body: t('information.us_ca.tournament_manager.tournament_organiser_mail_body'))).html_safe
    .row
      .col
        %h2= t('information.us_ca.tournament_manager.bracket_tool')
        %p
          = t('information.us_ca.tournament_manager.bracket_tool_body', link: link_to('Challonge', 'https://challonge.com/', target: '_blank')).html_safe
    .row
      .col
        %h2= t('information.us_ca.tournament_manager.bracket_seeding')
        %p
          = t('information.us_ca.tournament_manager.bracket_seeding_body1')
          %br
          %div{style: 'margin-left: 20px;'}
            %i player_skill = points/participations + wins/(wins+losses)*100 + participations + self_assessment/5 + tournament_experience/10
          %br
          = t('information.us_ca.tournament_manager.bracket_seeding_body2')

  -# results
  .tab-pane.fade.show#results{role: 'tabpanel', 'aria-labelledby'=>'results-tab'}
    .row
      .col
        %h2= t('information.us_ca.results.title')
        %p
          = t('information.us_ca.results.results_body', link: link_to('SSBU IS PRs', 'https://braacket.com/league/SSBUISPRs/tournament?rows=200', target: '_blank')).html_safe
    .row
      .col
        %h2= t('information.us_ca.results.ranking_system')
        %p= t('information.us_ca.results.ranking_system_body')
    .row
      .col
        %table.table.table-hover.table-borderless
          %thead.ranking-system-header
            %tr
              %th.text-center= t('information.us_ca.results.ranking_system_rank')
              %th.text-center= t('information.us_ca.results.ranking_system_points')
          %tbody.ranking-system-body
            %tr
              %td.text-center= 1.ordinalize
              %td.text-center 300
            %tr
              %td.text-center= 2.ordinalize
              %td.text-center 250
            %tr
              %td.text-center= 3.ordinalize
              %td.text-center 200
            %tr
              %td.text-center= 4.ordinalize
              %td.text-center 150
            %tr
              %td.text-center= 5.ordinalize+'-'+6.ordinalize
              %td.text-center 100
            %tr
              %td.text-center= 7.ordinalize+'-'+8.ordinalize
              %td.text-center 75
            %tr
              %td.text-center= 9.ordinalize+'-'+12.ordinalize
              %td.text-center 50
            %tr
              %td.text-center= 13.ordinalize+'-'+16.ordinalize
              %td.text-center 25
            %tr
              %td.text-center= 17.ordinalize+'-'+24.ordinalize
              %td.text-center 15
            %tr
              %td.text-center= 25.ordinalize+'-'+32.ordinalize
              %td.text-center 10
            %tr
              %td.text-center= '>'+32.ordinalize
              %td.text-center 5
  -# contact
  .tab-pane.fade.show#contact{role: 'tabpanel', 'aria-labelledby'=>'contact-tab'}
    .row
      .col
        %h2= t('information.us_ca.contact.title')
        = form_tag contact_path, method: 'post', class: 'form' do
          .form-group
            = text_field_tag :name, params[:name], class: 'form-control', placeholder: t('information.us_ca.contact.name')
          .form-group
            = email_field_tag :email, params[:email], class: 'form-control', placeholder: t('information.us_ca.contact.email')
          .form-group
            = text_area_tag :body, params[:body], class: 'form-control', placeholder: t('information.us_ca.contact.body')
          .form-group.hidden
            = text_field_tag :url, params[:url], class: 'form-control' # hidden field_tag to trick spam bots
          .form-group
            = recaptcha_tags(site_key: ENV["RECAPTCHA_SITE_KEY_#{session['country_code'].upcase}"])
          .form-group
            = button_tag t('information.us_ca.contact.submit'), type: 'submit', class: 'btn btn-default'
  -# partners
  .tab-pane.fade.show#partners{role: 'tabpanel', 'aria-labelledby'=>'partners-tab'}
    = render '/partials/partners', width: '50px', height: '50px'
